https://github.com/nginxinc/nginx-basics-workshops/blob/master/OSS/labs/lab1/media/lab1_nginx-architecture.png

Dissecting the image:
- Nginx seems to have a master process that:
	- controls the workers;
	- reads and validates config files before using them;
	- writes to error and logging files;
	- performs other NGINX and Linux management tasks;
	- is considered the Control plane process (workers are data plane);
- Through Admin/APM APIs you can manage and monitor the workers.
- Config files:
	- .conf -> defines nginx settings, server blocks, logging, gzip
	- .stats -> generated by a monitoring tool, doesn't seem to be native to nginx;
	- .log -> recording access logs and error logs, usually in `/var/log/nginx/`
	- .pid -> pid of the main Nginx process; default in `/run/nginx.pid` or `/var/run/nginx.pid`;
- Serving static/temp files through asynchronous I/O.
- Cache loader process = runs on startup, loads metadata such as keys, sizes, timestamps into memory; exits after it finishes loading
- Cache manager process = runs continuously in the background, cleans up expired cache items, enforces max_size;

Nginx uses a **Shared memory model**, common elements are equally accessed by all workers.

Status endpoint: `curl http://localhost:9000/basic_status`

### Useful commands and locations
`/etc/nginx` -> contains Nginx config files

`apk info -vv | grep nginx` -> what nginx packages are installed;
`ps aux | grep nginx` -> what nginx packages are running;
`netstat -alpn` -> what ports does Nginx use?
`nginx -h` -> help, most useful commands
`nginx -t` -> test current configuration;
`docker logs nginx-oss` -> general see logs Docker


